(window.webpackJsonp=window.webpackJsonp||[]).push([["setting-role-save"],{"2a626":function(e,t,o){"use strict";o.r(t);var l=o("f7fc");const a=Object(l.createTextVNode)("取 消"),s=Object(l.createTextVNode)("保 存");var r={emits:["success","closed"],data:()=>({mode:"add",titleMap:{add:"新增",edit:"编辑",show:"查看"},visible:!1,isSaveing:!1,form:{id:"",label:"",alias:"",sort:1,parentId:""},rules:{sort:[{required:!0,message:"请输入排序",trigger:"change"}],label:[{required:!0,message:"请输入角色名称"}],alias:[{required:!0,message:"请输入角色别名"}]},groups:[],groupsProps:{value:"id",emitPath:!1,checkStrictly:!0}}),mounted(){this.getGroup()},methods:{open(e="add"){return this.mode=e,this.visible=!0,this},async getGroup(){var e=await this.$API.system.role.list.get();this.groups=e.data},submit(){this.$refs.dialogForm.validate(async e=>{if(e){this.isSaveing=!0;var t=await this.$API.system.post.post(this.form);this.isSaveing=!1,200==t.code?(this.$emit("success",this.form,this.mode),this.visible=!1,this.$message.success("操作成功")):this.$alert(t.message,"提示",{type:"error"})}})},setData(e){this.form.id=e.id,this.form.label=e.label,this.form.alias=e.alias,this.form.sort=e.sort,this.form.parentId=e.parentId}}},i=o("b3f2");const d=o.n(i)()(r,[["render",function(e,t,o,r,i,d){const c=Object(l.resolveComponent)("el-cascader"),n=Object(l.resolveComponent)("el-form-item"),m=Object(l.resolveComponent)("el-input"),b=Object(l.resolveComponent)("el-input-number"),p=Object(l.resolveComponent)("el-form"),u=Object(l.resolveComponent)("el-button"),h=Object(l.resolveComponent)("el-dialog");return Object(l.openBlock)(),Object(l.createBlock)(h,{title:i.titleMap[i.mode],modelValue:i.visible,"onUpdate:modelValue":t[6]||(t[6]=e=>i.visible=e),width:500,"destroy-on-close":"",onClosed:t[7]||(t[7]=t=>e.$emit("closed"))},{footer:Object(l.withCtx)(()=>[Object(l.createVNode)(u,{onClick:t[4]||(t[4]=e=>i.visible=!1)},{default:Object(l.withCtx)(()=>[a]),_:1}),"show"!=i.mode?(Object(l.openBlock)(),Object(l.createBlock)(u,{key:0,type:"primary",loading:i.isSaveing,onClick:t[5]||(t[5]=e=>d.submit())},{default:Object(l.withCtx)(()=>[s]),_:1},8,["loading"])):Object(l.createCommentVNode)("",!0)]),default:Object(l.withCtx)(()=>[Object(l.createVNode)(p,{model:i.form,rules:i.rules,disabled:"show"==i.mode,ref:"dialogForm","label-width":"100px","label-position":"left"},{default:Object(l.withCtx)(()=>[Object(l.createVNode)(n,{label:"上级角色",prop:"parentId"},{default:Object(l.withCtx)(()=>[Object(l.createVNode)(c,{modelValue:i.form.parentId,"onUpdate:modelValue":t[0]||(t[0]=e=>i.form.parentId=e),options:i.groups,props:i.groupsProps,"show-all-levels":!1,clearable:"",style:{width:"100%"}},null,8,["modelValue","options","props"])]),_:1}),Object(l.createVNode)(n,{label:"角色名称",prop:"label"},{default:Object(l.withCtx)(()=>[Object(l.createVNode)(m,{modelValue:i.form.label,"onUpdate:modelValue":t[1]||(t[1]=e=>i.form.label=e),clearable:""},null,8,["modelValue"])]),_:1}),Object(l.createVNode)(n,{label:"角色别名",prop:"alias"},{default:Object(l.withCtx)(()=>[Object(l.createVNode)(m,{modelValue:i.form.alias,"onUpdate:modelValue":t[2]||(t[2]=e=>i.form.alias=e),clearable:""},null,8,["modelValue"])]),_:1}),Object(l.createVNode)(n,{label:"排序",prop:"sort"},{default:Object(l.withCtx)(()=>[Object(l.createVNode)(b,{modelValue:i.form.sort,"onUpdate:modelValue":t[3]||(t[3]=e=>i.form.sort=e),"controls-position":"right",min:1,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules","disabled"])]),_:1},8,["title","modelValue"])}]]);t.default=d}}]);